# 이지스(Aegis) 마스터플랜
**소상공인 맞춤형 정책자금 추천 AI 에이전트**

| 항목 | 내용 |
|------|------|
| 문서 ID | AEG-IMP-20250917-1.0 |
| 작성자 | Dr. Aiden (수석 AI 시스템 아키텍트) |
| 버전 | 1.0 |
| 최종 수정일 | 2025년 9월 17일 |
| 상태 | 확정 (Finalized) |

## 1. 프로젝트 개요 (Project Overview)

### 1.1. 미션 재확인
"기술의 장벽을 넘어, 모든 소상공인이 자신에게 맞는 최적의 정책자금 기회를 발견하고 성공적으로 확보할 수 있도록 돕는 지능형 파트너가 된다."

### 1.2. 핵심 가치 제안 (Core Value Proposition)
- **투명한 추론**: 모든 추천의 근거를 S.C.O.R.E. 프레임워크로 정량화하여 설명
- **실시간 정확성**: 이중 트랙 파이프라인을 통한 100% 데이터 무결성 보장
- **지능형 매칭**: RAG-KG 하이브리드 엔진으로 단순 검색을 넘어선 논리적 추론
- **적응형 안정성**: 외부 LLM 장애에도 흔들리지 않는 서비스 연속성

## 2. 구현 전략 (Implementation Strategy)

### 2.1. 완전 구현 접근법 (Full Implementation Approach)
**철학**: "한 번에 제대로, 나중에 수정 최소화"

시간 제약과 실용성을 고려하여 **처음부터 완전한 아키텍처를 구현**합니다. 점진적 구축이 아닌 **End-to-End 완전 시스템**을 목표로 합니다.

#### 핵심 원칙
- ✅ **완전한 마이크로서비스 아키텍처** (처음부터 MSA)
- ✅ **Kafka 기반 이벤트 스트리밍** (실시간 데이터 파이프라인)
- ✅ **Neo4j Knowledge Graph** (완전한 논리적 추론)
- ✅ **Kubernetes 오케스트레이션** (프로덕션 레디)
- ✅ **실제 데이터 파이프라인** (Mock 데이터 없음)
- ✅ **S.C.O.R.E. 프레임워크 완전 구현**

### 2.2. 구현 우선순위 (Implementation Priority)

#### 🎯 1단계: 핵심 인프라 (Week 1-2)
**목표**: 전체 시스템의 백본 구축
- Kubernetes 클러스터 설정
- Kafka 클러스터 구축
- 데이터베이스 클러스터 (PostgreSQL, Neo4j, Milvus, Redis)
- 기본 마이크로서비스 스켈레톤

#### 🔥 2단계: 데이터 파이프라인 (Week 3-4)
**목표**: 실제 정책 데이터 수집 및 처리
- 정부 API 연동 (공공데이터포털, 각 부처 API)
- 실시간 데이터 수집 파이프라인
- ETL 프로세스 (PostgreSQL → Neo4j, Milvus)
- 데이터 품질 검증 시스템

#### ⚡ 3단계: AI 코어 시스템 (Week 5-6)
**목표**: RAG-KG 하이브리드 엔진 완전 구현
- Interactive AI Core 구현
- KMRR 알고리즘 구현
- Living Gateway (LLM 추상화 계층)
- S.C.O.R.E. 프레임워크 구현

#### 🚀 4단계: 사용자 인터페이스 (Week 7-8)
**목표**: 완전한 사용자 경험 구현
- React 기반 웹 애플리케이션
- 실시간 추천 시스템
- 사용자 피드백 루프
- 관리자 대시보드

### 2.3. 기술 스택 (Complete Technology Stack)

#### 마이크로서비스 아키텍처
```
aegis-system/
├── api-gateway/           # Kong/Istio Gateway
├── user-service/          # 사용자 관리
├── policy-service/        # 정책 데이터 관리
├── recommendation-service/ # AI 추천 엔진
├── search-service/        # 검색 서비스
├── notification-service/  # 알림 서비스
├── analytics-service/     # 분석 및 메트릭
└── data-pipeline/         # 데이터 파이프라인
```

#### 완전한 기술 스택
| 계층 | 기술 | 목적 |
|------|------|------|
| **Orchestration** | Kubernetes + Helm | 컨테이너 오케스트레이션 |
| **Service Mesh** | Istio | 서비스 간 통신 관리 |
| **Message Queue** | Apache Kafka | 이벤트 스트리밍 |
| **API Gateway** | Kong/Istio Gateway | API 라우팅 및 보안 |
| **Databases** | PostgreSQL, Neo4j, Milvus, Redis | 다중 데이터 저장소 |
| **Monitoring** | Prometheus + Grafana | 모니터링 및 알림 |
| **Logging** | ELK Stack | 중앙화된 로깅 |
| **CI/CD** | GitLab CI/CD + ArgoCD | 자동화된 배포 |

## 3. Phase 1 상세 계획 (Current Phase Deep Dive)

### 3.1. 현재 스프린트 우선순위 (이번 달 목표)

#### 🎯 최우선 (P0)
1. **데이터 수집 파이프라인 구축**
   - 정부 정책자금 데이터 크롤링 시스템
   - 데이터 정제 및 표준화 프로세스
   - PostgreSQL 스키마 설계 및 구현

2. **기본 RAG 파이프라인 구현**
   - 텍스트 임베딩 생성 (OpenAI/HuggingFace)
   - Milvus 벡터 저장 및 검색
   - 기본적인 유사도 기반 검색

3. **FastAPI 백엔드 기본 구조**
   - 프로젝트 구조 설정
   - 기본 API 엔드포인트 (/search, /recommend)
   - 데이터베이스 연결 및 ORM 설정

#### 🔥 높음 (P1)
4. **사용자 프로필 시스템**
   - 기본 사용자 정보 모델 (업종, 지역, 규모)
   - 프로필 기반 필터링 로직
   - 간단한 매칭 알고리즘

5. **기본 웹 인터페이스**
   - React 기반 검색 페이지
   - 결과 표시 컴포넌트
   - 사용자 프로필 입력 폼

#### ⚡ 중간 (P2)
6. **캐싱 시스템 (Redis)**
7. **기본 로깅 및 모니터링**
8. **단위 테스트 작성**

### 2.4. 기술적 의사결정 원칙

#### 완전 구현 대상 (Full Implementation)
- ✅ **Kafka 이벤트 스트리밍** (실시간 데이터 일관성)
- ✅ **Neo4j Knowledge Graph** (완전한 논리적 추론)
- ✅ **마이크로서비스 아키텍처** (확장성과 유지보수성)
- ✅ **Kubernetes 오케스트레이션** (프로덕션 안정성)
- ✅ **실제 데이터 파이프라인** (Mock 없는 실전 구현)

#### 구현 시 집중할 핵심 원칙
- ✅ **확장 가능한 아키텍처** (미래 확장성 고려)
- ✅ **데이터 무결성** (이중 트랙 파이프라인)
- ✅ **성능 최적화** (대규모 트래픽 대응)
- ✅ **관찰가능성** (완전한 모니터링)
- ✅ **보안 강화** (엔터프라이즈급 보안)

## 4. 성공 지표 및 검증 방법 (Success Metrics)

### 4.1. Phase 1 KPI
| 지표 | 목표값 | 측정 방법 |
|------|--------|-----------|
| 데이터 수집량 | 1,000+ 정책 | DB 레코드 수 |
| 검색 응답시간 | < 3초 | API 응답시간 측정 |
| 검색 정확도 | 70%+ | 사용자 피드백 기반 |
| 시스템 가용성 | 95%+ | 업타임 모니터링 |

### 4.2. 품질 게이트 (Quality Gates)
- 모든 API 엔드포인트 단위 테스트 커버리지 80% 이상
- 데이터 무결성 검증 테스트 통과
- 성능 테스트 (동시 사용자 100명) 통과
- 보안 취약점 스캔 통과

## 5. 리스크 관리 (Risk Management)

### 5.1. 주요 리스크 및 대응책
| 리스크 | 확률 | 영향도 | 대응책 |
|--------|------|--------|--------|
| 데이터 수집 지연 | 중간 | 높음 | 다양한 데이터 소스 확보, 수동 입력 백업 |
| LLM API 비용 초과 | 높음 | 중간 | 사용량 모니터링, 캐싱 강화 |
| 성능 이슈 | 중간 | 중간 | 조기 성능 테스트, 인덱싱 최적화 |
| 팀 리소스 부족 | 낮음 | 높음 | 우선순위 재조정, 외부 지원 |

## 6. 다음 단계 (Next Steps)

### 이번 주 액션 아이템
1. **데이터베이스 스키마 최종 확정** (DATABASE_SCHEMA.md 작성)
2. **API 명세서 작성** (API_CONTRACT.md 작성)
3. **개발 환경 설정 가이드** 작성
4. **첫 번째 스프린트 계획** 수립

---

**📋 관련 문서**
- [프로젝트 헌장](../00_FOUNDATION/00_CHARTER.md)
- [시스템 아키텍처](../01_ARCHITECTURE/01_SYSTEM_OVERVIEW.md)
- [구현 가이드](./02_IMPLEMENTATION_GUIDE.md)
- [데이터베이스 스키마](../03_DATA_MODELS_AND_APIS/DATABASE_SCHEMA.md)