# 추천 서비스 비즈니스 요구사항

| 항목 | 내용 |
|------|------|
| 문서 ID | AEG-SPC-REC-20250917-2.0 |
| 버전 | 2.0 |
| 최종 수정일 | 2025년 9월 17일 |
| 작성자 | Dr. Aiden (수석 AI 시스템 아키텍트) |
| 상태 | 확정 (Finalized) |

## 1. 개요 (Overview)

본 문서는 이지스 시스템의 추천 서비스에 대한 비즈니스 요구사항을 정의한다. **S.C.O.R.E. 프레임워크**를 기반으로 한 **설명 가능한 AI 추천**을 통해 소상공인에게 최적의 정책자금을 추천하는 것을 목표로 한다.

## 2. 기능적 요구사항 (Functional Requirements)

### 2.1. 개인화 추천 엔진

#### FR-001: 사용자 맞춤 추천
- **요구사항**: 사용자 프로필 기반 개인화된 정책자금 추천
- **상세 기능**:
  - 사업체 정보 기반 필터링 (업종, 지역, 규모)
  - 재무 상황 고려한 추천 (매출, 신용도, 기존 대출)
  - 사용자 선호도 반영 (금리, 절차 복잡도, 자금 용도)
  - 과거 신청 이력 기반 학습
- **우선순위**: 높음
- **검증 기준**: 추천 정확도 80% 이상

#### FR-002: 실시간 추천 생성
- **요구사항**: 사용자 요청 시 실시간으로 추천 결과 생성
- **상세 기능**:
  - 3초 이내 추천 결과 제공
  - 최대 20개 정책 추천
  - 관련도 순 정렬
  - 실시간 정책 상태 반영
- **우선순위**: 높음
- **검증 기준**: 응답 시간 3초 이내

### 2.2. 하이브리드 AI 추천

#### FR-003: RAG-KG 하이브리드 추천
- **요구사항**: 벡터 검색과 지식 그래프를 결합한 지능형 추천
- **상세 기능**:
  - 의미적 유사도 기반 초기 후보 선별
  - 지식 그래프 기반 논리적 추론
  - KMRR 알고리즘을 통한 재순위화
  - 규칙 엔진 기반 동적 가중치 적용
- **우선순위**: 높음
- **검증 기준**: 하이브리드 추천 정확도 85% 이상

#### FR-004: 다단계 필터링
- **요구사항**: 단계별 필터링을 통한 정확한 추천
- **상세 기능**:
  - 1단계: 기본 자격 요건 필터링
  - 2단계: 벡터 유사도 기반 후보 선별
  - 3단계: 지식 그래프 기반 논리 검증
  - 4단계: 비즈니스 규칙 기반 최종 순위 결정
- **우선순위**: 높음
- **검증 기준**: 각 단계별 필터링 정확도 90% 이상

### 2.3. 설명 가능한 추천

#### FR-005: S.C.O.R.E. 기반 설명 생성
- **요구사항**: 모든 추천에 대한 명확한 근거 제시
- **상세 기능**:
  - **Specificity**: 구체적인 매칭 조건 설명
  - **Consistency**: 동일 조건 시 일관된 결과 보장
  - **Observability**: 추천 과정 전체 추적 가능
  - **Reproducibility**: 결과 재현 가능성 보장
  - **Explainability**: 사용자 이해 가능한 설명 제공
- **우선순위**: 높음
- **검증 기준**: 설명 만족도 4.0/5.0 이상

#### FR-006: 추천 근거 시각화
- **요구사항**: 추천 근거를 시각적으로 표현
- **상세 기능**:
  - 매칭도 점수 차트
  - 자격 요건 체크리스트
  - 유사 정책 비교표
  - 추천 이유 요약
- **우선순위**: 중간
- **검증 기준**: 시각화 이해도 85% 이상

### 2.4. 지속적 학습 및 개선

#### FR-007: 사용자 피드백 학습
- **요구사항**: 사용자 피드백을 통한 추천 성능 개선
- **상세 기능**:
  - 추천 결과에 대한 평가 수집
  - 실제 신청 여부 추적
  - 부정적 피드백 원인 분석
  - 추천 모델 지속적 업데이트
- **우선순위**: 중간
- **검증 기준**: 월별 추천 정확도 1% 이상 개선

#### FR-008: A/B 테스트 지원
- **요구사항**: 다양한 추천 알고리즘 성능 비교
- **상세 기능**:
  - 사용자 그룹별 다른 알고리즘 적용
  - 추천 성과 지표 비교 분석
  - 최적 알고리즘 자동 선택
  - 실험 결과 리포팅
- **우선순위**: 낮음
- **검증 기준**: A/B 테스트 신뢰도 95% 이상

## 3. 비기능적 요구사항 (Non-Functional Requirements)

### 3.1. 성능 요구사항

#### NFR-001: 응답 시간
- **추천 생성 시간**: 3초 이내
- **설명 생성 시간**: 1초 이내
- **피드백 처리 시간**: 0.5초 이내

#### NFR-002: 처리량
- **동시 추천 요청**: 500건 처리
- **일일 추천 요청**: 100,000건 처리
- **피크 시간 처리**: 평상시 대비 3배 처리량

### 3.2. 정확성 요구사항

#### NFR-003: 추천 품질
- **추천 정확도**: 80% 이상
- **설명 정확도**: 95% 이상
- **재현 가능성**: 99% 이상

#### NFR-004: 일관성
- **동일 입력 결과 일치율**: 99% 이상
- **시간대별 결과 일관성**: 95% 이상
- **서버 간 결과 일관성**: 99% 이상

### 3.3. 가용성 요구사항

#### NFR-005: 서비스 가용성
- **목표 가용성**: 99.9%
- **평균 복구 시간**: 5분 이내
- **최대 허용 중단**: 월 43분

## 4. 사용자 스토리 (User Stories)

### 4.1. 맞춤형 추천 받기

```
As a 소상공인
I want to 내 사업 상황에 딱 맞는 정책자금을 추천받고 싶다
So that 시간을 절약하고 최적의 지원을 받을 수 있다

Acceptance Criteria:
- 내 업종, 지역, 사업 규모에 맞는 정책만 추천
- 추천 이유를 명확하게 설명
- 신청 가능성이 높은 순서로 정렬
- 최대 10개의 핵심 정책 추천
```

### 4.2. 추천 근거 이해하기

```
As a 소상공인
I want to 왜 이 정책이 나에게 추천되었는지 알고 싶다
So that 추천을 신뢰하고 올바른 결정을 내릴 수 있다

Acceptance Criteria:
- 각 추천 정책별 매칭 이유 제시
- 내가 충족하는 조건과 부족한 조건 명시
- 다른 정책과의 비교 정보 제공
- 추천 점수와 그 근거 설명
```

### 4.3. 추천 결과 개선하기

```
As a 소상공인
I want to 추천 결과에 대한 피드백을 제공하고 싶다
So that 더 나은 추천을 받을 수 있다

Acceptance Criteria:
- 추천 정책에 대한 만족도 평가 가능
- 관심 없는 정책 유형 제외 설정
- 선호하는 정책 특성 학습
- 피드백 반영 결과 확인 가능
```

## 5. 비즈니스 규칙 (Business Rules)

### 5.1. 추천 우선순위 규칙

#### BR-001: 기본 우선순위
- 신청 마감일이 임박한 정책 우선
- 사용자 프로필 매칭도가 높은 정책 우선
- 성공률이 높은 정책 우선
- 지원 금액이 큰 정책 우선 (동일 조건 시)

#### BR-002: 제외 규칙
- 이미 수혜받은 정책 제외
- 중복 수혜 불가 정책 제외
- 자격 요건 미달 정책 제외
- 신청 기간 종료 정책 제외

### 5.2. 개인화 규칙

#### BR-003: 사용자 선호도 반영
- 과거 관심 표시한 정책 유형 가중치 증가
- 부정적 피드백 받은 정책 유형 가중치 감소
- 사용자 설정 선호도 최우선 반영
- 유사 사용자 행동 패턴 참고

#### BR-004: 학습 데이터 관리
- 개인정보 비식별화 후 학습 데이터 활용
- 30일 이상 된 피드백 데이터 가중치 감소
- 허위 피드백 탐지 및 제외
- 학습 데이터 품질 지속적 모니터링

### 5.3. 설명 생성 규칙

#### BR-005: 설명 내용 기준
- 매칭된 조건 구체적 명시
- 부족한 조건 개선 방안 제시
- 유사 정책과의 차별점 설명
- 신청 시 주의사항 안내

## 6. 추천 알고리즘 요구사항

### 6.1. KMRR 알고리즘 구현

#### 핵심 구성 요소
- **K**nowledge-informed Pre-filtering
- **M**odulated Vector Search
- **R**e-ranking with Graph Reasoning
- **R**ule-based Final Adjustment

#### 성능 목표
- 사전 필터링 정확도: 95% 이상
- 벡터 검색 재현율: 90% 이상
- 재순위화 정확도: 85% 이상
- 전체 추천 정확도: 80% 이상

### 6.2. 실시간 추론 요구사항

#### 추론 파이프라인
1. 사용자 쿼리 분석 및 의도 파악
2. 프로필 기반 제약 조건 추출
3. 지식 그래프 기반 사전 필터링
4. 벡터 유사도 기반 후보 선별
5. 논리적 추론을 통한 재순위화
6. 비즈니스 규칙 적용 및 최종 조정

#### 성능 요구사항
- 각 단계별 처리 시간 500ms 이내
- 전체 파이프라인 처리 시간 3초 이내
- 메모리 사용량 2GB 이내
- CPU 사용률 80% 이내

## 7. 데이터 요구사항

### 7.1. 입력 데이터

#### 사용자 데이터
- 사업체 기본 정보 (업종, 지역, 규모)
- 재무 정보 (매출, 직원 수, 신용도)
- 선호도 정보 (금리, 절차, 자금 용도)
- 과거 이력 (신청, 수혜, 피드백)

#### 정책 데이터
- 정책 기본 정보 (제목, 내용, 조건)
- 메타데이터 (분류, 태그, 관계)
- 통계 정보 (신청률, 성공률, 만족도)
- 실시간 상태 (신청 가능 여부, 잔여 예산)

### 7.2. 출력 데이터

#### 추천 결과
- 추천 정책 목록 (최대 20개)
- 각 정책별 추천 점수
- 매칭 조건 및 근거
- 예상 성공 확률

#### 설명 정보
- 추천 이유 요약
- 자격 요건 매칭 상태
- 유사 정책 비교
- 신청 시 주의사항

## 8. 성공 지표 (Success Metrics)

### 8.1. 추천 성능 지표
- **추천 정확도**: 80% 이상
- **추천 다양성**: 상위 10개 중 5개 이상 서로 다른 카테고리
- **추천 신선도**: 새로운 정책 발견율 20% 이상
- **추천 커버리지**: 전체 정책의 80% 이상 추천 가능

### 8.2. 사용자 만족도 지표
- **전체 만족도**: 4.0/5.0 이상
- **추천 정확도 만족도**: 4.2/5.0 이상
- **설명 이해도**: 4.0/5.0 이상
- **재사용 의향**: 80% 이상

### 8.3. 비즈니스 성과 지표
- **정책 신청 전환율**: 15% 이상
- **추천 클릭률**: 60% 이상
- **사용자 재방문율**: 70% 이상
- **추천 서비스 이용률**: 월 80% 이상

---

**📋 관련 문서**
- [추천 서비스 개요](./01_RECOMMENDATION_SERVICE_OVERVIEW.md)
- [Interactive AI Core](../../02_CORE_COMPONENTS/02_INTERACTIVE_AI_CORE.md)
- [S.C.O.R.E. 프레임워크](../../02_CORE_COMPONENTS/05_SCORE_FRAMEWORK.md)
- [Rule Engine](../../02_CORE_COMPONENTS/04_RULE_ENGINE.md)